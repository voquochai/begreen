{"version":3,"sources":["../../../../js/assessments/seo/internalLinksAssessment.js"],"names":["AssessmentResult","require","isEmpty","calculateLinkStatisticsResult","linkStatistics","i18n","internalTotal","score","text","dgettext","internalNofollow","total","sprintf","internalDofollow","textHasInternalLinksAssessment","paper","researcher","getResearch","assessmentResult","linkStatisticsResult","setScore","setText","module","exports","identifier","getResult","isApplicable","hasText"],"mappings":"AAAA;;AACA,IAAIA,mBAAmBC,QAAQ,kCAAR,CAAvB;AACA,IAAIC,UAAUD,QAAQ,gBAAR,CAAd;AACA;;;;;;;AAOA,IAAIE,gCAAgC,SAAhCA,6BAAgC,CAAUC,cAAV,EAA0BC,IAA1B,EAAgC;AAChE,QAAID,eAAeE,aAAf,KAAiC,CAArC,EAAwC;AACpC,eAAO;AACHC,mBAAO,CADJ;AAEHC,kBAAMH,KAAKI,QAAL,CAAc,kBAAd,EAAkC,6EAAlC;AAFH,SAAP;AAIH;AACD,QAAIL,eAAeM,gBAAf,KAAoCN,eAAeO,KAAvD,EAA8D;AAC1D,eAAO;AACHJ,mBAAO,CADJ;AAEH;AACAC,kBAAMH,KAAKO,OAAL,CAAaP,KAAKI,QAAL,CAAc,kBAAd,EAAkC,sDAAlC,CAAb,EAAwGL,eAAeM,gBAAvH;AAHH,SAAP;AAKH;AACD,QAAIN,eAAeM,gBAAf,GAAkCN,eAAeE,aAArD,EAAoE;AAChE,eAAO;AACHC,mBAAO,CADJ;AAEH;AACAC,kBAAMH,KAAKO,OAAL,CAAaP,KAAKI,QAAL,CAAc,kBAAd,EAAkC,kFAAlC,CAAb,EAAoIL,eAAeM,gBAAnJ,EAAqKN,eAAeS,gBAApL;AAHH,SAAP;AAKH;AACD,QAAIT,eAAeS,gBAAf,KAAoCT,eAAeO,KAAvD,EAA8D;AAC1D,eAAO;AACHJ,mBAAO,CADJ;AAEH;AACAC,kBAAMH,KAAKO,OAAL,CAAaP,KAAKI,QAAL,CAAc,kBAAd,EAAkC,sCAAlC,CAAb,EAAwFL,eAAeE,aAAvG;AAHH,SAAP;AAKH;AACD,WAAO,EAAP;AACH,CA7BD;AA8BA;;;;;;;;AAQA,IAAIQ,iCAAiC,SAAjCA,8BAAiC,CAAUC,KAAV,EAAiBC,UAAjB,EAA6BX,IAA7B,EAAmC;AACpE,QAAID,iBAAiBY,WAAWC,WAAX,CAAuB,mBAAvB,CAArB;AACA,QAAIC,mBAAmB,IAAIlB,gBAAJ,EAAvB;AACA,QAAI,CAACE,QAAQE,cAAR,CAAL,EAA8B;AAC1B,YAAIe,uBAAuBhB,8BAA8BC,cAA9B,EAA8CC,IAA9C,CAA3B;AACAa,yBAAiBE,QAAjB,CAA0BD,qBAAqBZ,KAA/C;AACAW,yBAAiBG,OAAjB,CAAyBF,qBAAqBX,IAA9C;AACH;AACD,WAAOU,gBAAP;AACH,CATD;AAUAI,OAAOC,OAAP,GAAiB;AACbC,gBAAY,eADC;AAEbC,eAAWX,8BAFE;AAGbY,kBAAc,sBAAUX,KAAV,EAAiB;AAC3B,eAAOA,MAAMY,OAAN,EAAP;AACH;AALY,CAAjB;AAOA","file":"internalLinksAssessment.js","sourcesContent":["\"use strict\";\nvar AssessmentResult = require(\"../../values/AssessmentResult.js\");\nvar isEmpty = require(\"lodash/isEmpty\");\n/**\n * Returns a score and text based on the linkStatistics object.\n *\n * @param {object} linkStatistics The object with all linkstatistics.\n * @param {object} i18n The object used for translations\n * @returns {object} resultObject with score and text\n */\nvar calculateLinkStatisticsResult = function (linkStatistics, i18n) {\n    if (linkStatistics.internalTotal === 0) {\n        return {\n            score: 3,\n            text: i18n.dgettext(\"js-text-analysis\", \"No internal links appear in this page, consider adding some as appropriate.\"),\n        };\n    }\n    if (linkStatistics.internalNofollow === linkStatistics.total) {\n        return {\n            score: 7,\n            /* Translators: %1$s expands the number of internal links */\n            text: i18n.sprintf(i18n.dgettext(\"js-text-analysis\", \"This page has %1$s internal link(s), all nofollowed.\"), linkStatistics.internalNofollow),\n        };\n    }\n    if (linkStatistics.internalNofollow < linkStatistics.internalTotal) {\n        return {\n            score: 8,\n            /* Translators: %1$s expands to the number of nofollow links, %2$s to the number of internal links */\n            text: i18n.sprintf(i18n.dgettext(\"js-text-analysis\", \"This page has %1$s nofollowed internal link(s) and %2$s normal internal link(s).\"), linkStatistics.internalNofollow, linkStatistics.internalDofollow),\n        };\n    }\n    if (linkStatistics.internalDofollow === linkStatistics.total) {\n        return {\n            score: 9,\n            /* Translators: %1$s expands to the number of internal links */\n            text: i18n.sprintf(i18n.dgettext(\"js-text-analysis\", \"This page has %1$s internal link(s).\"), linkStatistics.internalTotal),\n        };\n    }\n    return {};\n};\n/**\n * Runs the getLinkStatistics module, based on this returns an assessment result with score.\n *\n * @param {object} paper The paper to use for the assessment.\n * @param {object} researcher The researcher used for calling research.\n * @param {object} i18n The object used for translations\n * @returns {object} the Assessmentresult\n */\nvar textHasInternalLinksAssessment = function (paper, researcher, i18n) {\n    var linkStatistics = researcher.getResearch(\"getLinkStatistics\");\n    var assessmentResult = new AssessmentResult();\n    if (!isEmpty(linkStatistics)) {\n        var linkStatisticsResult = calculateLinkStatisticsResult(linkStatistics, i18n);\n        assessmentResult.setScore(linkStatisticsResult.score);\n        assessmentResult.setText(linkStatisticsResult.text);\n    }\n    return assessmentResult;\n};\nmodule.exports = {\n    identifier: \"internalLinks\",\n    getResult: textHasInternalLinksAssessment,\n    isApplicable: function (paper) {\n        return paper.hasText();\n    },\n};\n//# sourceMappingURL=internalLinksAssessment.js.map"]}