{"version":3,"sources":["../../../js/researches/findKeywordInFirstParagraph.js"],"names":["matchParagraphs","require","wordMatch","escapeRegExp","reject","isEmpty","module","exports","paper","paragraphs","getText","keyword","getKeyword","toLocaleLowerCase","paragraph","getLocale"],"mappings":"AAAA;AACA;;AACA,IAAIA,kBAAkBC,QAAQ,wCAAR,CAAtB;AACA,IAAIC,YAAYD,QAAQ,0CAAR,CAAhB;AACA,IAAIE,eAAeF,QAAQ,qBAAR,CAAnB;AACA,IAAIG,SAASH,QAAQ,eAAR,CAAb;AACA,IAAII,UAAUJ,QAAQ,gBAAR,CAAd;AACA;;;;;;;;AAQAK,OAAOC,OAAP,GAAiB,UAAUC,KAAV,EAAiB;AAC9B,MAAIC,aAAaT,gBAAgBQ,MAAME,OAAN,EAAhB,CAAjB;AACA,MAAIC,UAAUR,aAAaK,MAAMI,UAAN,GAAmBC,iBAAnB,EAAb,CAAd;AACA,MAAIC,YAAYV,OAAOK,UAAP,EAAmBJ,OAAnB,EAA4B,CAA5B,KAAkC,EAAlD;AACA,SAAOH,UAAUY,SAAV,EAAqBH,OAArB,EAA8BH,MAAMO,SAAN,EAA9B,CAAP;AACH,CALD;AAMA","file":"findKeywordInFirstParagraph.js","sourcesContent":["\"use strict\";\n/** @module analyses/findKeywordInFirstParagraph */\nvar matchParagraphs = require(\"../stringProcessing/matchParagraphs.js\");\nvar wordMatch = require(\"../stringProcessing/matchTextWithWord.js\");\nvar escapeRegExp = require(\"lodash/escapeRegExp\");\nvar reject = require(\"lodash/reject\");\nvar isEmpty = require(\"lodash/isEmpty\");\n/**\n * Counts the occurrences of the keyword in the first paragraph, returns 0 if it is not found,\n * if there is no paragraph tag or 0 hits, it checks for 2 newlines, otherwise returns the keyword\n * count of the complete text.\n *\n * @param {Paper} paper The text to check for paragraphs.\n * @returns {number} The number of occurrences of the keyword in the first paragraph.\n */\nmodule.exports = function (paper) {\n    var paragraphs = matchParagraphs(paper.getText());\n    var keyword = escapeRegExp(paper.getKeyword().toLocaleLowerCase());\n    var paragraph = reject(paragraphs, isEmpty)[0] || \"\";\n    return wordMatch(paragraph, keyword, paper.getLocale());\n};\n//# sourceMappingURL=findKeywordInFirstParagraph.js.map"]}