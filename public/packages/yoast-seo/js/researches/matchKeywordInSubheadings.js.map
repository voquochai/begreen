{"version":3,"sources":["../../../js/researches/matchKeywordInSubheadings.js"],"names":["stripSomeTags","require","subheadingMatch","getSubheadingContents","escapeRegExp","module","exports","paper","text","getText","keyword","getKeyword","locale","getLocale","result","count","matches","length"],"mappings":"AAAA;AACA;;AACA,IAAIA,gBAAgBC,QAAQ,yCAAR,CAApB;AACA,IAAIC,kBAAkBD,QAAQ,yCAAR,CAAtB;AACA,IAAIE,wBAAwBF,QAAQ,uCAAR,EAAiDE,qBAA7E;AACA,IAAIC,eAAeH,QAAQ,qBAAR,CAAnB;AACA;;;;;;;AAOAI,OAAOC,OAAP,GAAiB,UAAUC,KAAV,EAAiB;AAC9B,QAAIC,OAAOD,MAAME,OAAN,EAAX;AACA,QAAIC,UAAUN,aAAaG,MAAMI,UAAN,EAAb,CAAd;AACA,QAAIC,SAASL,MAAMM,SAAN,EAAb;AACA,QAAIC,SAAS,EAAEC,OAAO,CAAT,EAAb;AACAP,WAAOR,cAAcQ,IAAd,CAAP;AACA,QAAIQ,UAAUb,sBAAsBK,IAAtB,CAAd;AACA,QAAI,MAAMQ,QAAQC,MAAlB,EAA0B;AACtBH,eAAOC,KAAP,GAAeC,QAAQC,MAAvB;AACAH,eAAOE,OAAP,GAAiBd,gBAAgBc,OAAhB,EAAyBN,OAAzB,EAAkCE,MAAlC,CAAjB;AACH;AACD,WAAOE,MAAP;AACH,CAZD;AAaA","file":"matchKeywordInSubheadings.js","sourcesContent":["\"use strict\";\n/* @module analyses/matchKeywordInSubheadings */\nvar stripSomeTags = require(\"../stringProcessing/stripNonTextTags.js\");\nvar subheadingMatch = require(\"../stringProcessing/subheadingsMatch.js\");\nvar getSubheadingContents = require(\"../stringProcessing/getSubheadings.js\").getSubheadingContents;\nvar escapeRegExp = require(\"lodash/escapeRegExp\");\n/**\n * Checks if there are any subheadings like h2 in the text\n * and if they have the keyword in them.\n *\n * @param {object} paper The paper object containing the text and keyword.\n * @returns {object} the result object.\n */\nmodule.exports = function (paper) {\n    var text = paper.getText();\n    var keyword = escapeRegExp(paper.getKeyword());\n    var locale = paper.getLocale();\n    var result = { count: 0 };\n    text = stripSomeTags(text);\n    var matches = getSubheadingContents(text);\n    if (0 !== matches.length) {\n        result.count = matches.length;\n        result.matches = subheadingMatch(matches, keyword, locale);\n    }\n    return result;\n};\n//# sourceMappingURL=matchKeywordInSubheadings.js.map"]}